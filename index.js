const { Telegraf } = require('telegraf')
const config = require('./config/config.json')
const commandHandler = require('./utils/commandHandler')

const bot = new Telegraf(config.botToken)

console.log(`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
ğŸ¯  ğ—›ğ—¿ğ—¶ğ—±ğ—¼ğ˜† ğ—•ğ—¼ğ˜ ğŸš€
ğŸ’œ  ğ—ªğ—²ğ—¹ğ—°ğ—¼ğ—ºğ—² ğ˜ğ—¼ ğŸ‡ªâ€ŒğŸ‡¨â€ŒğŸ‡­â€ŒğŸ‡´â€ŒğŸ‡§â€ŒğŸ‡´â€ŒğŸ‡¹â€Œ ğ—¯ğ˜† ğ—›ğ—¿ğ—¶ğ—±ğ—¼ğ˜† ğ—ğ—µğ—®ğ—»
ğŸ’¥  ğ—•ğ—¼ğ˜ ğ—¶ğ˜€ ğ—¦ğ˜ğ—®ğ—¿ğ˜ğ—¶ğ—»ğ—´...
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`)

bot.on('text', async (ctx) => {
  if (ctx.message.text.startsWith('/')) {
    await commandHandler(ctx)
  }

  const user = `${ctx.from.first_name} (@${ctx.from.username || 'N/A'})`
  const time = new Date().toLocaleString()
  const messageType = ctx.message.text ? 'Text' : 'Unknown'
  const content = ctx.message.text || 'N/A'

  console.log(`
âœ‰ ğ— ğ—²ğ˜€ğ˜€ğ—®ğ—´ğ—² ğ—Ÿğ—¼ğ—´ ğŸ“œ
â˜€ ğ—§ğ—¶ğ—ºğ—²: ${time}
â‚ ğ—¨ğ˜€ğ—²ğ—¿: ${user}
â‚ª ğ—§ğ˜†ğ—½ğ—²: ${messageType}
áƒš ğ— ğ—²ğ˜€ğ˜€ğ—®ğ—´ğ—²: ${content}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
`)
})

bot.launch()

console.log(`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
âœ…  ğ—•ğ—¼ğ˜ ğ—¦ğ˜ğ—®ğ—¿ğ˜ğ—²ğ—± ğ—¦ğ˜‚ğ—°ğ—°ğ—²ğ˜€ğ˜€ğ—³ğ˜‚ğ—¹ğ—¹ğ˜†!
ğŸŒ  ğ—•ğ—¼ğ˜ ğ—¡ğ—®ğ—ºğ—²: ${config.botname}
ğŸ‘¨â€ğŸ’¼  ğ—¢ğ˜„ğ—»ğ—²ğ—¿: ${config.ownerName}
ğŸ•’  ğ—§ğ—¶ğ—ºğ—²: ${new Date().toLocaleString()}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`);
